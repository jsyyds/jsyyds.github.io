__NUXT_JSONP__("/blog/Vue_%E5%93%8D%E5%BA%94%E6%80%A7%E5%8E%9F%E7%90%86%E5%AE%9E%E7%8E%B0", (function(a,b,c,d,e,f,g,h,i,j,k,l,m,n,o,p,q,r,s,t,u,v,w,x,y,z,A,B,C,D,E,F,G,H,I,J,K,L,M,N,O,P,Q,R,S,T,U,V,W,X,Y,Z,_,$,aa,ab,ac,ad,ae,af,ag,ah,ai,aj,ak,al,am,an,ao,ap,aq,ar,as,at,au,av,aw,ax,ay,az,aA,aB,aC,aD,aE,aF,aG,aH,aI,aJ,aK,aL,aM,aN,aO,aP,aQ,aR,aS,aT,aU,aV,aW,aX,aY,aZ,a_,a$,ba,bb,bc,bd,be,bf,bg,bh,bi,bj,bk,bl,bm,bn,bo,bp,bq,br,bs,bt,bu,bv,bw,bx,by,bz,bA,bB,bC,bD,bE,bF,bG,bH,bI,bJ,bK,bL){return {data:[{article:{slug:"Vue_响应性原理实现",description:"百变星君——this",title:"Vue 响应性原理实现",img:"https:\u002F\u002Fimages.unsplash.com\u002Fphoto-1579820010410-c10411aaaa88?ixid=MnwxMjA3fDB8MHxzZWFyY2h8NHx8cmVhY3R8ZW58MHx8MHx8&ixlib=rb-1.2.1&auto=format&fit=crop&w=800&q=80",alt:"this 对象",tags:[aG,aH],toc:[{id:aj,depth:2,text:aj},{id:aW,depth:aI,text:aX},{id:aY,depth:aI,text:aZ},{id:ak,depth:aI,text:ak}],body:{type:"root",children:[{type:b,tag:v,props:{},children:[{type:a,value:"响应性是 Vue的一个核心特性，用于监听视图中绑定的数据，当数据发生改变时视图自动更新。人们往往对响应性这个术语有一些误解或困惑，会认为响应性就是类似RX之类的响应性编程。但是在这里只要状态发生改变，系统依赖部分发生自动更新就可以称为响应性。在 web应用中，数据的变化如何响应到DOM中，就是Vue解决的问题。"}]},{type:a,value:g},{type:b,tag:"h2",props:{id:aj},children:[{type:b,tag:S,props:{ariaHidden:al,href:"#%E5%93%8D%E5%BA%94%E6%80%A7%E9%97%AE%E9%A2%98",tabIndex:am},children:[{type:b,tag:c,props:{className:[an,ao]},children:[]}]},{type:a,value:aj}]},{type:a,value:g},{type:b,tag:v,props:{},children:[{type:a,value:"假设我们有个需求，b 永远等于 a 的十倍，如果使用命令式标称，可以很简单实现，可以像下面这样实现，但是当我们把 a 设置成 4 时，b 还是等于 30"}]},{type:a,value:g},{type:b,tag:D,props:{className:[E]},children:[{type:b,tag:F,props:{className:[G,H]},children:[{type:b,tag:m,props:{},children:[{type:b,tag:c,props:{className:[d,l]},children:[{type:a,value:L}]},{type:a,value:W},{type:b,tag:c,props:{className:[d,h]},children:[{type:a,value:o}]},{type:a,value:f},{type:b,tag:c,props:{className:[d,z]},children:[{type:a,value:a_}]},{type:a,value:g},{type:b,tag:c,props:{className:[d,l]},children:[{type:a,value:L}]},{type:a,value:a$},{type:b,tag:c,props:{className:[d,h]},children:[{type:a,value:o}]},{type:a,value:W},{type:b,tag:c,props:{className:[d,h]},children:[{type:a,value:X}]},{type:a,value:f},{type:b,tag:c,props:{className:[d,z]},children:[{type:a,value:Y}]},{type:a,value:g},{type:b,tag:c,props:{className:[d,y,x]},children:[{type:a,value:y}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:p}]},{type:b,tag:c,props:{className:[d,t,k,q]},children:[{type:a,value:N}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:i}]},{type:a,value:ap},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:j}]},{type:a,value:f},{type:b,tag:c,props:{className:[d,s]},children:[{type:a,value:aJ}]},{type:a,value:ba},{type:b,tag:c,props:{className:[d,h]},children:[{type:a,value:o}]},{type:a,value:f},{type:b,tag:c,props:{className:[d,z]},children:[{type:a,value:bb}]},{type:a,value:g},{type:b,tag:c,props:{className:[d,y,x]},children:[{type:a,value:y}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:p}]},{type:b,tag:c,props:{className:[d,t,k,q]},children:[{type:a,value:N}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:i}]},{type:a,value:ap},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:j}]},{type:a,value:f},{type:b,tag:c,props:{className:[d,s]},children:[{type:a,value:aJ}]},{type:a,value:g}]}]}]},{type:a,value:g},{type:b,tag:v,props:{},children:[{type:a,value:"为了让 b 等于 a 的十倍，那我们需要重新设置 b 的值，像下面代码"}]},{type:a,value:g},{type:b,tag:D,props:{className:[E]},children:[{type:b,tag:F,props:{className:[G,H]},children:[{type:b,tag:m,props:{},children:[{type:b,tag:c,props:{className:[d,l]},children:[{type:a,value:L}]},{type:a,value:W},{type:b,tag:c,props:{className:[d,h]},children:[{type:a,value:o}]},{type:a,value:f},{type:b,tag:c,props:{className:[d,z]},children:[{type:a,value:a_}]},{type:a,value:g},{type:b,tag:c,props:{className:[d,l]},children:[{type:a,value:L}]},{type:a,value:a$},{type:b,tag:c,props:{className:[d,h]},children:[{type:a,value:o}]},{type:a,value:W},{type:b,tag:c,props:{className:[d,h]},children:[{type:a,value:X}]},{type:a,value:f},{type:b,tag:c,props:{className:[d,z]},children:[{type:a,value:Y}]},{type:a,value:g},{type:b,tag:c,props:{className:[d,y,x]},children:[{type:a,value:y}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:p}]},{type:b,tag:c,props:{className:[d,t,k,q]},children:[{type:a,value:N}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:i}]},{type:a,value:ap},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:j}]},{type:a,value:f},{type:b,tag:c,props:{className:[d,s]},children:[{type:a,value:aJ}]},{type:a,value:ba},{type:b,tag:c,props:{className:[d,h]},children:[{type:a,value:o}]},{type:a,value:f},{type:b,tag:c,props:{className:[d,z]},children:[{type:a,value:bb}]},{type:a,value:"\nb "},{type:b,tag:c,props:{className:[d,h]},children:[{type:a,value:o}]},{type:a,value:W},{type:b,tag:c,props:{className:[d,h]},children:[{type:a,value:X}]},{type:a,value:f},{type:b,tag:c,props:{className:[d,z]},children:[{type:a,value:Y}]},{type:a,value:g},{type:b,tag:c,props:{className:[d,y,x]},children:[{type:a,value:y}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:p}]},{type:b,tag:c,props:{className:[d,t,k,q]},children:[{type:a,value:N}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:i}]},{type:a,value:ap},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:j}]},{type:a,value:f},{type:b,tag:c,props:{className:[d,s]},children:[{type:a,value:"\u002F\u002F 40"}]},{type:a,value:g}]}]}]},{type:a,value:g},{type:b,tag:v,props:{},children:[{type:a,value:"假设我们有一个神奇函数叫 "},{type:b,tag:m,props:{},children:[{type:a,value:bc}]},{type:a,value:"，它接收一个函数并且当 a 改变时自动被执行，这时候可以对 b 重新赋值，那上面的问题就解决了，那这个函数如何实现是问题的关键。"}]},{type:a,value:g},{type:b,tag:D,props:{className:[E]},children:[{type:b,tag:F,props:{className:[G,H]},children:[{type:b,tag:m,props:{},children:[{type:b,tag:c,props:{className:[d,k]},children:[{type:a,value:bc}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:i}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:i}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:j}]},{type:a,value:f},{type:b,tag:c,props:{className:[d,A,h]},children:[{type:a,value:B}]},{type:a,value:f},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:r}]},{type:a,value:"\n  b "},{type:b,tag:c,props:{className:[d,h]},children:[{type:a,value:o}]},{type:a,value:W},{type:b,tag:c,props:{className:[d,h]},children:[{type:a,value:X}]},{type:a,value:f},{type:b,tag:c,props:{className:[d,z]},children:[{type:a,value:Y}]},{type:a,value:g},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:n}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:j}]},{type:a,value:g}]}]}]},{type:a,value:g},{type:b,tag:v,props:{},children:[{type:a,value:"再举个更贴合 web 开发的例子，下面代码同样有个一个神奇函数 "},{type:b,tag:m,props:{},children:[{type:a,value:aq}]},{type:a,value:"，它会在 "},{type:b,tag:m,props:{},children:[{type:a,value:Z}]},{type:a,value:" 改变的时候自动运行，那我们只要在函数中编写 dom 操作的代码，就可以实现 dom 的自动更新了"}]},{type:a,value:g},{type:b,tag:D,props:{className:[E]},children:[{type:b,tag:F,props:{className:[G,H]},children:[{type:b,tag:m,props:{},children:[{type:b,tag:c,props:{className:[d,s]},children:[{type:a,value:bd}]},{type:a,value:g},{type:b,tag:c,props:{className:[d,h]},children:[{type:a,value:ar}]},{type:a,value:be},{type:b,tag:c,props:{className:[d,l]},children:[{type:a,value:as}]},{type:b,tag:c,props:{className:[d,h]},children:[{type:a,value:o}]},{type:b,tag:c,props:{className:[d,C]},children:[{type:a,value:bf}]},{type:b,tag:c,props:{className:[d,h]},children:[{type:a,value:at}]},{type:b,tag:c,props:{className:[d,h]},children:[{type:a,value:ar}]},{type:b,tag:c,props:{className:[d,h]},children:[{type:a,value:bg}]},{type:a,value:c},{type:b,tag:c,props:{className:[d,h]},children:[{type:a,value:at}]},{type:a,value:I},{type:b,tag:c,props:{className:[d,s]},children:[{type:a,value:bh}]},{type:a,value:g},{type:b,tag:c,props:{className:[d,k]},children:[{type:a,value:aq}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:i}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:i}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:j}]},{type:a,value:f},{type:b,tag:c,props:{className:[d,A,h]},children:[{type:a,value:B}]},{type:a,value:f},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:r}]},{type:a,value:w},{type:b,tag:c,props:{className:[d,bi,bj]},children:[{type:a,value:"document"}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:p}]},{type:b,tag:c,props:{className:[d,t,k,q]},children:[{type:a,value:"querySelector"}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:i}]},{type:b,tag:c,props:{className:[d,C]},children:[{type:a,value:"'.cell.b1'"}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:j}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:p}]},{type:b,tag:c,props:{className:[d,q]},children:[{type:a,value:"textContent"}]},{type:a,value:f},{type:b,tag:c,props:{className:[d,h]},children:[{type:a,value:o}]},{type:a,value:bk},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:p}]},{type:b,tag:c,props:{className:[d,q]},children:[{type:a,value:S}]},{type:a,value:f},{type:b,tag:c,props:{className:[d,h]},children:[{type:a,value:X}]},{type:a,value:f},{type:b,tag:c,props:{className:[d,z]},children:[{type:a,value:Y}]},{type:a,value:g},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:n}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:j}]},{type:a,value:g}]}]}]},{type:a,value:g},{type:b,tag:v,props:{},children:[{type:a,value:"我们再进一步抽象，把 dom 的操作使用渲染引擎替换，但是我们不去研究渲染引擎的实现，只是简单的认为它会自动解析模板代码与数据关联即可，那代码就会变成下面这样。"}]},{type:a,value:g},{type:b,tag:D,props:{className:[E]},children:[{type:b,tag:F,props:{className:[G,H]},children:[{type:b,tag:m,props:{},children:[{type:b,tag:c,props:{className:[d,s]},children:[{type:a,value:bd}]},{type:a,value:g},{type:b,tag:c,props:{className:[d,h]},children:[{type:a,value:ar}]},{type:a,value:be},{type:b,tag:c,props:{className:[d,l]},children:[{type:a,value:as}]},{type:b,tag:c,props:{className:[d,h]},children:[{type:a,value:o}]},{type:b,tag:c,props:{className:[d,C]},children:[{type:a,value:bf}]},{type:b,tag:c,props:{className:[d,h]},children:[{type:a,value:at}]},{type:a,value:w},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:r}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:r}]},{type:a,value:bk},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:p}]},{type:b,tag:c,props:{className:[d,q]},children:[{type:a,value:S}]},{type:a,value:f},{type:b,tag:c,props:{className:[d,h]},children:[{type:a,value:X}]},{type:a,value:f},{type:b,tag:c,props:{className:[d,z]},children:[{type:a,value:Y}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:n}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:n}]},{type:a,value:g},{type:b,tag:c,props:{className:[d,h]},children:[{type:a,value:ar}]},{type:b,tag:c,props:{className:[d,h]},children:[{type:a,value:bg}]},{type:a,value:c},{type:b,tag:c,props:{className:[d,h]},children:[{type:a,value:at}]},{type:a,value:I},{type:b,tag:c,props:{className:[d,s]},children:[{type:a,value:bh}]},{type:a,value:g},{type:b,tag:c,props:{className:[d,k]},children:[{type:a,value:aq}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:i}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:i}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:j}]},{type:a,value:f},{type:b,tag:c,props:{className:[d,A,h]},children:[{type:a,value:B}]},{type:a,value:f},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:r}]},{type:a,value:aK},{type:b,tag:c,props:{className:[d,h]},children:[{type:a,value:o}]},{type:a,value:f},{type:b,tag:c,props:{className:[d,k]},children:[{type:a,value:aL}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:i}]},{type:a,value:Z},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:j}]},{type:a,value:g},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:n}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:j}]},{type:a,value:g}]}]}]},{type:a,value:g},{type:b,tag:v,props:{},children:[{type:a,value:"现在解决问题的核心就是如何实现 onStateChange 这个方法了，看到下面代码就是它具体的实现，首先定义一个外部 "},{type:b,tag:m,props:{},children:[{type:a,value:O}]},{type:a,value:" 变量用于记录调用 "},{type:b,tag:m,props:{},children:[{type:a,value:aM}]},{type:a,value:" 时传入的函数，如果需要改变 state 就必须调用 "},{type:b,tag:m,props:{},children:[{type:a,value:au}]},{type:a,value:" 方法，我们只需要在 "},{type:b,tag:m,props:{},children:[{type:a,value:au}]},{type:a,value:" 方法内部重新调用之前保存的 "},{type:b,tag:m,props:{},children:[{type:a,value:O}]},{type:a,value:" 方法，即可达成自动更新。"}]},{type:a,value:g},{type:b,tag:D,props:{className:[E]},children:[{type:b,tag:F,props:{className:[G,H]},children:[{type:b,tag:m,props:{},children:[{type:b,tag:c,props:{className:[d,l]},children:[{type:a,value:L}]},{type:a,value:" update"},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:";"}]},{type:a,value:g},{type:b,tag:c,props:{className:[d,l]},children:[{type:a,value:M}]},{type:a,value:f},{type:b,tag:c,props:{className:[d,av,k]},children:[{type:a,value:aq}]},{type:a,value:f},{type:b,tag:c,props:{className:[d,h]},children:[{type:a,value:o}]},{type:a,value:f},{type:b,tag:c,props:{className:[d,J]},children:[{type:a,value:"_update"}]},{type:a,value:f},{type:b,tag:c,props:{className:[d,A,h]},children:[{type:a,value:B}]},{type:a,value:f},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:r}]},{type:a,value:w},{type:b,tag:c,props:{className:[d,s]},children:[{type:a,value:"\u002F\u002F 把传入的 _update 函数保存给外部变量"}]},{type:a,value:"\n    update "},{type:b,tag:c,props:{className:[d,h]},children:[{type:a,value:o}]},{type:a,value:" _update\n"},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:n}]},{type:a,value:I},{type:b,tag:c,props:{className:[d,s]},children:[{type:a,value:"\u002F\u002F 用户更新数据必须调用 setState 函数，函数内把新的 state 更新并调用 update 方法"}]},{type:a,value:g},{type:b,tag:c,props:{className:[d,l]},children:[{type:a,value:M}]},{type:a,value:f},{type:b,tag:c,props:{className:[d,av,k]},children:[{type:a,value:au}]},{type:a,value:f},{type:b,tag:c,props:{className:[d,h]},children:[{type:a,value:o}]},{type:a,value:f},{type:b,tag:c,props:{className:[d,J]},children:[{type:a,value:"newState"}]},{type:a,value:f},{type:b,tag:c,props:{className:[d,A,h]},children:[{type:a,value:B}]},{type:a,value:f},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:r}]},{type:a,value:"\n    state "},{type:b,tag:c,props:{className:[d,h]},children:[{type:a,value:o}]},{type:a,value:" newState\n    "},{type:b,tag:c,props:{className:[d,k]},children:[{type:a,value:O}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:i}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:j}]},{type:a,value:g},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:n}]},{type:a,value:g}]}]}]},{type:a,value:g},{type:b,tag:v,props:{},children:[{type:a,value:"调用例子，如果你有 react 开发经验，会发现这和 react 修改数据调用方法是一样的"}]},{type:a,value:g},{type:b,tag:D,props:{className:[E]},children:[{type:b,tag:F,props:{className:[G,H]},children:[{type:b,tag:m,props:{},children:[{type:b,tag:c,props:{className:[d,k]},children:[{type:a,value:aM}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:i}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:i}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:j}]},{type:a,value:f},{type:b,tag:c,props:{className:[d,A,h]},children:[{type:a,value:B}]},{type:a,value:f},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:r}]},{type:a,value:aK},{type:b,tag:c,props:{className:[d,h]},children:[{type:a,value:o}]},{type:a,value:f},{type:b,tag:c,props:{className:[d,k]},children:[{type:a,value:aL}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:i}]},{type:a,value:Z},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:j}]},{type:a,value:f},{type:b,tag:c,props:{className:[d,s]},children:[{type:a,value:bl}]},{type:a,value:g},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:n}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:j}]},{type:a,value:I},{type:b,tag:c,props:{className:[d,k]},children:[{type:a,value:au}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:i}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:r}]},{type:a,value:" a"},{type:b,tag:c,props:{className:[d,h]},children:[{type:a,value:aN}]},{type:a,value:f},{type:b,tag:c,props:{className:[d,z]},children:[{type:a,value:bm}]},{type:a,value:f},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:n}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:j}]},{type:a,value:g}]}]}]},{type:a,value:g},{type:b,tag:v,props:{},children:[{type:a,value:"其实在 angular 中，我们是不需要调用 setState 方法来更新数据，可以直接 "},{type:b,tag:m,props:{},children:[{type:a,value:"state.a = 5"}]},{type:a,value:" 对变量赋值，即可触发视图更新。angular 使用脏值检测的方法，拦截你的事件然后判断是否改变。"}]},{type:a,value:g},{type:b,tag:D,props:{className:[E]},children:[{type:b,tag:F,props:{className:[G,H]},children:[{type:b,tag:m,props:{},children:[{type:b,tag:c,props:{className:[d,k]},children:[{type:a,value:aM}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:i}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:i}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:j}]},{type:a,value:f},{type:b,tag:c,props:{className:[d,A,h]},children:[{type:a,value:B}]},{type:a,value:f},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:r}]},{type:a,value:aK},{type:b,tag:c,props:{className:[d,h]},children:[{type:a,value:o}]},{type:a,value:f},{type:b,tag:c,props:{className:[d,k]},children:[{type:a,value:aL}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:i}]},{type:a,value:Z},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:j}]},{type:a,value:f},{type:b,tag:c,props:{className:[d,s]},children:[{type:a,value:bl}]},{type:a,value:g},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:n}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:j}]},{type:a,value:bn},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:p}]},{type:b,tag:c,props:{className:[d,q]},children:[{type:a,value:S}]},{type:a,value:f},{type:b,tag:c,props:{className:[d,h]},children:[{type:a,value:o}]},{type:a,value:f},{type:b,tag:c,props:{className:[d,z]},children:[{type:a,value:bm}]},{type:a,value:f},{type:b,tag:c,props:{className:[d,s]},children:[{type:a,value:"\u002F\u002F 在 angular 中，直接赋值即可触发视图更新"}]},{type:a,value:g}]}]}]},{type:a,value:g},{type:b,tag:v,props:{},children:[{type:a,value:"但是在 Vue 中实现方法不太一样，通过 "},{type:b,tag:m,props:{},children:[{type:a,value:bo}]},{type:a,value:" 修改对象属性的 "},{type:b,tag:m,props:{},children:[{type:a,value:bp}]},{type:a,value:bq},{type:b,tag:m,props:{},children:[{type:a,value:br}]},{type:a,value:" 让对象具有响应性，这种基于依赖跟踪的方式其实就是 vue.js、konckout.js 等框架实现的原理。"}]},{type:a,value:g},{type:b,tag:aO,props:{id:aW},children:[{type:b,tag:S,props:{ariaHidden:al,href:"#getter-%E5%92%8C-setter",tabIndex:am},children:[{type:b,tag:c,props:{className:[an,ao]},children:[]}]},{type:a,value:aX}]},{type:a,value:g},{type:b,tag:v,props:{},children:[{type:a,value:"ES5 的 "},{type:b,tag:m,props:{},children:[{type:a,value:bo}]},{type:a,value:" 提供监听属性变更的功能，下面将演示如何通过 "},{type:b,tag:m,props:{},children:[{type:a,value:aP}]},{type:a,value:" 函数修改传入对象的 "},{type:b,tag:m,props:{},children:[{type:a,value:bp}]},{type:a,value:bq},{type:b,tag:m,props:{},children:[{type:a,value:br}]},{type:a,value:" 实现修改对象属性时打印日志的功能。"}]},{type:a,value:g},{type:b,tag:D,props:{className:[E]},children:[{type:b,tag:F,props:{className:[G,H]},children:[{type:b,tag:m,props:{},children:[{type:b,tag:c,props:{className:[d,l]},children:[{type:a,value:M}]},{type:a,value:" obj "},{type:b,tag:c,props:{className:[d,h]},children:[{type:a,value:o}]},{type:a,value:f},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:r}]},{type:a,value:" foo"},{type:b,tag:c,props:{className:[d,h]},children:[{type:a,value:aN}]},{type:a,value:f},{type:b,tag:c,props:{className:[d,z]},children:[{type:a,value:"123"}]},{type:a,value:f},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:n}]},{type:a,value:g},{type:b,tag:c,props:{className:[d,k]},children:[{type:a,value:aP}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:i}]},{type:a,value:T},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:j}]},{type:a,value:aQ},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:p}]},{type:b,tag:c,props:{className:[d,q]},children:[{type:a,value:aR}]},{type:a,value:f},{type:b,tag:c,props:{className:[d,s]},children:[{type:a,value:"\u002F\u002F 需要打印：'getting key \"foo\": 123'"}]},{type:a,value:aQ},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:p}]},{type:b,tag:c,props:{className:[d,q]},children:[{type:a,value:aR}]},{type:a,value:f},{type:b,tag:c,props:{className:[d,h]},children:[{type:a,value:o}]},{type:a,value:f},{type:b,tag:c,props:{className:[d,z]},children:[{type:a,value:"234"}]},{type:a,value:f},{type:b,tag:c,props:{className:[d,s]},children:[{type:a,value:"\u002F\u002F 需要打印：'setting key \"foo\" to: 234'"}]},{type:a,value:aQ},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:p}]},{type:b,tag:c,props:{className:[d,q]},children:[{type:a,value:aR}]},{type:a,value:f},{type:b,tag:c,props:{className:[d,s]},children:[{type:a,value:"\u002F\u002F 需要打印：'getting key \"foo\": 234'"}]},{type:a,value:g}]}]}]},{type:a,value:g},{type:b,tag:v,props:{},children:[{type:a,value:"convert 函数实现如下："}]},{type:a,value:g},{type:b,tag:D,props:{className:[E]},children:[{type:b,tag:F,props:{className:[G,H]},children:[{type:b,tag:m,props:{},children:[{type:b,tag:c,props:{className:[d,l]},children:[{type:a,value:k}]},{type:a,value:f},{type:b,tag:c,props:{className:[d,k]},children:[{type:a,value:aP}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:i}]},{type:b,tag:c,props:{className:[d,J]},children:[{type:a,value:T}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:j}]},{type:a,value:f},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:r}]},{type:a,value:u},{type:b,tag:c,props:{className:[d,s]},children:[{type:a,value:"\u002F\u002F Object.keys获取对象的所有key值，通过forEach对每个属性进行修改"}]},{type:a,value:u},{type:b,tag:c,props:{className:[d,aw,x]},children:[{type:a,value:ax}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:p}]},{type:b,tag:c,props:{className:[d,t,k,q]},children:[{type:a,value:bs}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:i}]},{type:a,value:T},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:j}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:p}]},{type:b,tag:c,props:{className:[d,t,k,q]},children:[{type:a,value:ay}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:i}]},{type:b,tag:c,props:{className:[d,J]},children:[{type:a,value:_}]},{type:a,value:f},{type:b,tag:c,props:{className:[d,A,h]},children:[{type:a,value:B}]},{type:a,value:f},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:r}]},{type:a,value:w},{type:b,tag:c,props:{className:[d,s]},children:[{type:a,value:"\u002F\u002F 保存属性初始值"}]},{type:a,value:w},{type:b,tag:c,props:{className:[d,l]},children:[{type:a,value:L}]},{type:a,value:aS},{type:b,tag:c,props:{className:[d,h]},children:[{type:a,value:o}]},{type:a,value:bt},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:bu}]},{type:a,value:_},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:bv}]},{type:a,value:w},{type:b,tag:c,props:{className:[d,aw,x]},children:[{type:a,value:ax}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:p}]},{type:b,tag:c,props:{className:[d,t,k,q]},children:[{type:a,value:bw}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:i}]},{type:a,value:T},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:$}]},{type:a,value:bx},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:$}]},{type:a,value:f},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:r}]},{type:a,value:P},{type:b,tag:c,props:{className:[d,k]},children:[{type:a,value:by}]},{type:a,value:f},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:i}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:j}]},{type:a,value:f},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:r}]},{type:a,value:aa},{type:b,tag:c,props:{className:[d,y,x]},children:[{type:a,value:y}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:p}]},{type:b,tag:c,props:{className:[d,t,k,q]},children:[{type:a,value:N}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:i}]},{type:b,tag:c,props:{className:[d,aT]},children:[{type:b,tag:c,props:{className:[d,ab,C]},children:[{type:a,value:ac}]},{type:b,tag:c,props:{className:[d,C]},children:[{type:a,value:"getting key \""}]},{type:b,tag:c,props:{className:[d,ag]},children:[{type:b,tag:c,props:{className:[d,K,e]},children:[{type:a,value:ah}]},{type:a,value:_},{type:b,tag:c,props:{className:[d,K,e]},children:[{type:a,value:n}]}]},{type:b,tag:c,props:{className:[d,C]},children:[{type:a,value:"\": "}]},{type:b,tag:c,props:{className:[d,ag]},children:[{type:b,tag:c,props:{className:[d,K,e]},children:[{type:a,value:ah}]},{type:a,value:"internalValue"},{type:b,tag:c,props:{className:[d,K,e]},children:[{type:a,value:n}]}]},{type:b,tag:c,props:{className:[d,ab,C]},children:[{type:a,value:ac}]}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:j}]},{type:a,value:aa},{type:b,tag:c,props:{className:[d,l,ad]},children:[{type:a,value:aU}]},{type:a,value:bz},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:n}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:$}]},{type:a,value:P},{type:b,tag:c,props:{className:[d,k]},children:[{type:a,value:bA}]},{type:a,value:f},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:i}]},{type:a,value:bB},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:j}]},{type:a,value:f},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:r}]},{type:a,value:aa},{type:b,tag:c,props:{className:[d,y,x]},children:[{type:a,value:y}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:p}]},{type:b,tag:c,props:{className:[d,t,k,q]},children:[{type:a,value:N}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:i}]},{type:b,tag:c,props:{className:[d,aT]},children:[{type:b,tag:c,props:{className:[d,ab,C]},children:[{type:a,value:ac}]},{type:b,tag:c,props:{className:[d,C]},children:[{type:a,value:"setting key \""}]},{type:b,tag:c,props:{className:[d,ag]},children:[{type:b,tag:c,props:{className:[d,K,e]},children:[{type:a,value:ah}]},{type:a,value:_},{type:b,tag:c,props:{className:[d,K,e]},children:[{type:a,value:n}]}]},{type:b,tag:c,props:{className:[d,C]},children:[{type:a,value:"\" to: "}]},{type:b,tag:c,props:{className:[d,ag]},children:[{type:b,tag:c,props:{className:[d,K,e]},children:[{type:a,value:ah}]},{type:a,value:bB},{type:b,tag:c,props:{className:[d,K,e]},children:[{type:a,value:n}]}]},{type:b,tag:c,props:{className:[d,ab,C]},children:[{type:a,value:ac}]}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:j}]},{type:a,value:"\n        internalValue "},{type:b,tag:c,props:{className:[d,h]},children:[{type:a,value:o}]},{type:a,value:" newValue\n      "},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:n}]},{type:a,value:w},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:n}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:j}]},{type:a,value:u},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:n}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:j}]},{type:a,value:g},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:n}]},{type:a,value:g}]}]}]},{type:a,value:g},{type:b,tag:aO,props:{id:aY},children:[{type:b,tag:S,props:{ariaHidden:al,href:"#%E4%BE%9D%E8%B5%96%E8%B7%9F%E8%B8%AA%E5%8F%91%E5%B8%83%E8%AE%A2%E9%98%85%E6%A8%A1%E5%BC%8F",tabIndex:am},children:[{type:b,tag:c,props:{className:[an,ao]},children:[]}]},{type:a,value:aZ}]},{type:a,value:g},{type:b,tag:v,props:{},children:[{type:a,value:"需要实现一个依赖跟踪类 "},{type:b,tag:m,props:{},children:[{type:a,value:Q}]},{type:a,value:"，类里有一个叫 "},{type:b,tag:m,props:{},children:[{type:a,value:U}]},{type:a,value:" 方法，该方法用于收集依赖项；另外还有一个 "},{type:b,tag:m,props:{},children:[{type:a,value:V}]},{type:a,value:" 方法，该方法用于触发依赖项的执行，也就是说只要在之前使用 "},{type:b,tag:m,props:{},children:[{type:a,value:U}]},{type:a,value:" 方法手机的依赖项，当调用 "},{type:b,tag:m,props:{},children:[{type:a,value:V}]},{type:a,value:" 方法时会被触发执行。"}]},{type:a,value:g},{type:b,tag:v,props:{},children:[{type:a,value:"下面是 "},{type:b,tag:m,props:{},children:[{type:a,value:Q}]},{type:a,value:" 类期望达到的效果，调用 "},{type:b,tag:m,props:{},children:[{type:a,value:bC}]},{type:a,value:" 方法收集依赖，当调用 "},{type:b,tag:m,props:{},children:[{type:a,value:"dep.notify"}]},{type:a,value:" 方法，控制台会再次输出 "},{type:b,tag:m,props:{},children:[{type:a,value:O}]},{type:a,value:" 语句。"}]},{type:a,value:g},{type:b,tag:D,props:{className:[E]},children:[{type:b,tag:F,props:{className:[G,H]},children:[{type:b,tag:m,props:{},children:[{type:b,tag:c,props:{className:[d,l]},children:[{type:a,value:M}]},{type:a,value:bD},{type:b,tag:c,props:{className:[d,h]},children:[{type:a,value:o}]},{type:a,value:f},{type:b,tag:c,props:{className:[d,l]},children:[{type:a,value:az}]},{type:a,value:f},{type:b,tag:c,props:{className:[d,x]},children:[{type:a,value:Q}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:i}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:j}]},{type:a,value:I},{type:b,tag:c,props:{className:[d,k]},children:[{type:a,value:ai}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:i}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:i}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:j}]},{type:a,value:f},{type:b,tag:c,props:{className:[d,A,h]},children:[{type:a,value:B}]},{type:a,value:f},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:r}]},{type:a,value:"\n  dep"},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:p}]},{type:b,tag:c,props:{className:[d,t,k,q]},children:[{type:a,value:U}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:i}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:j}]},{type:a,value:u},{type:b,tag:c,props:{className:[d,y,x]},children:[{type:a,value:y}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:p}]},{type:b,tag:c,props:{className:[d,t,k,q]},children:[{type:a,value:N}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:i}]},{type:b,tag:c,props:{className:[d,C]},children:[{type:a,value:"'updated'"}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:j}]},{type:a,value:g},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:n}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:j}]},{type:a,value:g},{type:b,tag:c,props:{className:[d,s]},children:[{type:a,value:bE}]},{type:a,value:"\n\ndep"},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:p}]},{type:b,tag:c,props:{className:[d,t,k,q]},children:[{type:a,value:V}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:i}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:j}]},{type:a,value:g},{type:b,tag:c,props:{className:[d,s]},children:[{type:a,value:bE}]},{type:a,value:g}]}]}]},{type:a,value:g},{type:b,tag:v,props:{},children:[{type:b,tag:m,props:{},children:[{type:a,value:ai}]},{type:a,value:" 函数接收一个函数，这个函数帮助我们创建一个相应区，当代码放在这个相应区内，就可以通过 "},{type:b,tag:m,props:{},children:[{type:a,value:bC}]},{type:a,value:" 方法注册依赖项"}]},{type:a,value:g},{type:b,tag:v,props:{},children:[{type:a,value:"最终实现的 "},{type:b,tag:m,props:{},children:[{type:a,value:Q}]},{type:a,value:" 类代码如下："}]},{type:a,value:g},{type:b,tag:D,props:{className:[E]},children:[{type:b,tag:F,props:{className:[G,H]},children:[{type:b,tag:m,props:{},children:[{type:b,tag:c,props:{className:[d,bi,bj]},children:[{type:a,value:"window"}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:p}]},{type:b,tag:c,props:{className:[d,q]},children:[{type:b,tag:c,props:{className:[d,"maybe-class-name"]},children:[{type:a,value:Q}]}]},{type:a,value:f},{type:b,tag:c,props:{className:[d,h]},children:[{type:a,value:o}]},{type:a,value:f},{type:b,tag:c,props:{className:[d,l]},children:[{type:a,value:as}]},{type:a,value:f},{type:b,tag:c,props:{className:[d,x]},children:[{type:a,value:Q}]},{type:a,value:f},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:r}]},{type:a,value:u},{type:b,tag:c,props:{className:[d,k]},children:[{type:a,value:bF}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:i}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:j}]},{type:a,value:f},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:r}]},{type:a,value:w},{type:b,tag:c,props:{className:[d,s]},children:[{type:a,value:"\u002F\u002F 订阅任务队列，方式有相同的任务，用 Set 数据结构简单处理"}]},{type:a,value:w},{type:b,tag:c,props:{className:[d,l]},children:[{type:a,value:ae}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:p}]},{type:b,tag:c,props:{className:[d,q]},children:[{type:a,value:af}]},{type:a,value:f},{type:b,tag:c,props:{className:[d,h]},children:[{type:a,value:o}]},{type:a,value:f},{type:b,tag:c,props:{className:[d,l]},children:[{type:a,value:az}]},{type:a,value:f},{type:b,tag:c,props:{className:[d,x]},children:[{type:a,value:bG}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:i}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:j}]},{type:a,value:u},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:n}]},{type:a,value:aA},{type:b,tag:c,props:{className:[d,k]},children:[{type:a,value:U}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:i}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:j}]},{type:a,value:f},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:r}]},{type:a,value:w},{type:b,tag:c,props:{className:[d,l,ad]},children:[{type:a,value:aV}]},{type:a,value:f},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:i}]},{type:a,value:aB},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:j}]},{type:a,value:f},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:r}]},{type:a,value:P},{type:b,tag:c,props:{className:[d,l]},children:[{type:a,value:ae}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:p}]},{type:b,tag:c,props:{className:[d,q]},children:[{type:a,value:af}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:p}]},{type:b,tag:c,props:{className:[d,t,k,q]},children:[{type:a,value:bH}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:i}]},{type:a,value:aB},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:j}]},{type:a,value:w},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:n}]},{type:a,value:u},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:n}]},{type:a,value:aA},{type:b,tag:c,props:{className:[d,s]},children:[{type:a,value:"\u002F\u002F 用于发布消息，触发依赖项重新执行"}]},{type:a,value:u},{type:b,tag:c,props:{className:[d,k]},children:[{type:a,value:V}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:i}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:j}]},{type:a,value:f},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:r}]},{type:a,value:w},{type:b,tag:c,props:{className:[d,l]},children:[{type:a,value:ae}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:p}]},{type:b,tag:c,props:{className:[d,q]},children:[{type:a,value:af}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:p}]},{type:b,tag:c,props:{className:[d,t,k,q]},children:[{type:a,value:ay}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:i}]},{type:b,tag:c,props:{className:[d,J]},children:[{type:a,value:aC}]},{type:a,value:f},{type:b,tag:c,props:{className:[d,A,h]},children:[{type:a,value:B}]},{type:a,value:f},{type:b,tag:c,props:{className:[d,k]},children:[{type:a,value:aC}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:i}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:j}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:j}]},{type:a,value:u},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:n}]},{type:a,value:g},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:n}]},{type:a,value:I},{type:b,tag:c,props:{className:[d,l]},children:[{type:a,value:L}]},{type:a,value:bI},{type:b,tag:c,props:{className:[d,h]},children:[{type:a,value:o}]},{type:a,value:f},{type:b,tag:c,props:{className:[d,l,R,aD]},children:[{type:a,value:R}]},{type:a,value:I},{type:b,tag:c,props:{className:[d,l]},children:[{type:a,value:k}]},{type:a,value:f},{type:b,tag:c,props:{className:[d,k]},children:[{type:a,value:ai}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:i}]},{type:b,tag:c,props:{className:[d,J]},children:[{type:a,value:O}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:j}]},{type:a,value:f},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:r}]},{type:a,value:u},{type:b,tag:c,props:{className:[d,l]},children:[{type:a,value:M}]},{type:a,value:f},{type:b,tag:c,props:{className:[d,av,k]},children:[{type:a,value:aE}]},{type:a,value:f},{type:b,tag:c,props:{className:[d,h]},children:[{type:a,value:o}]},{type:a,value:f},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:i}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:j}]},{type:a,value:f},{type:b,tag:c,props:{className:[d,A,h]},children:[{type:a,value:B}]},{type:a,value:f},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:r}]},{type:a,value:aF},{type:b,tag:c,props:{className:[d,h]},children:[{type:a,value:o}]},{type:a,value:bJ},{type:b,tag:c,props:{className:[d,k]},children:[{type:a,value:O}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:i}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:j}]},{type:a,value:aF},{type:b,tag:c,props:{className:[d,h]},children:[{type:a,value:o}]},{type:a,value:f},{type:b,tag:c,props:{className:[d,l,R,aD]},children:[{type:a,value:R}]},{type:a,value:u},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:n}]},{type:a,value:u},{type:b,tag:c,props:{className:[d,k]},children:[{type:a,value:aE}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:i}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:j}]},{type:a,value:g},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:n}]},{type:a,value:g}]}]}]},{type:a,value:g},{type:b,tag:aO,props:{id:ak},children:[{type:b,tag:S,props:{ariaHidden:al,href:"#%E5%AE%9E%E7%8E%B0%E8%BF%B7%E4%BD%A0%E8%A7%82%E5%AF%9F%E8%80%85",tabIndex:am},children:[{type:b,tag:c,props:{className:[an,ao]},children:[]}]},{type:a,value:ak}]},{type:a,value:g},{type:b,tag:v,props:{},children:[{type:a,value:"我们将前面的代码整合到一起，实现一个小型的观察者，通过在 getter 和 setter 中调用 "},{type:b,tag:m,props:{},children:[{type:a,value:U}]},{type:a,value:" 方法和 "},{type:b,tag:m,props:{},children:[{type:a,value:V}]},{type:a,value:" 方法，就可以实现自动更新数据的目的了，这也是 Vue 实现自动更新的核心原理。"}]},{type:a,value:g},{type:b,tag:v,props:{},children:[{type:a,value:"期望实现的调用效果："}]},{type:a,value:g},{type:b,tag:D,props:{className:[E]},children:[{type:b,tag:F,props:{className:[G,H]},children:[{type:b,tag:m,props:{},children:[{type:b,tag:c,props:{className:[d,l]},children:[{type:a,value:M}]},{type:a,value:" state "},{type:b,tag:c,props:{className:[d,h]},children:[{type:a,value:o}]},{type:a,value:f},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:r}]},{type:a,value:"\n  count"},{type:b,tag:c,props:{className:[d,h]},children:[{type:a,value:aN}]},{type:a,value:f},{type:b,tag:c,props:{className:[d,z]},children:[{type:a,value:"0"}]},{type:a,value:g},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:n}]},{type:a,value:I},{type:b,tag:c,props:{className:[d,k]},children:[{type:a,value:bK}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:i}]},{type:a,value:Z},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:j}]},{type:a,value:I},{type:b,tag:c,props:{className:[d,k]},children:[{type:a,value:ai}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:i}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:i}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:j}]},{type:a,value:f},{type:b,tag:c,props:{className:[d,A,h]},children:[{type:a,value:B}]},{type:a,value:f},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:r}]},{type:a,value:u},{type:b,tag:c,props:{className:[d,y,x]},children:[{type:a,value:y}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:p}]},{type:b,tag:c,props:{className:[d,t,k,q]},children:[{type:a,value:N}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:i}]},{type:b,tag:c,props:{className:[d,aT]},children:[{type:b,tag:c,props:{className:[d,ab,C]},children:[{type:a,value:ac}]},{type:b,tag:c,props:{className:[d,C]},children:[{type:a,value:"count is: "}]},{type:b,tag:c,props:{className:[d,ag]},children:[{type:b,tag:c,props:{className:[d,K,e]},children:[{type:a,value:ah}]},{type:a,value:Z},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:p}]},{type:b,tag:c,props:{className:[d,q]},children:[{type:a,value:bL}]},{type:b,tag:c,props:{className:[d,K,e]},children:[{type:a,value:n}]}]},{type:b,tag:c,props:{className:[d,ab,C]},children:[{type:a,value:ac}]}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:j}]},{type:a,value:g},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:n}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:j}]},{type:a,value:g},{type:b,tag:c,props:{className:[d,s]},children:[{type:a,value:"\u002F\u002F 打印 \"count is: 0\""}]},{type:a,value:bn},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:p}]},{type:b,tag:c,props:{className:[d,q]},children:[{type:a,value:bL}]},{type:b,tag:c,props:{className:[d,h]},children:[{type:a,value:"++"}]},{type:a,value:g},{type:b,tag:c,props:{className:[d,s]},children:[{type:a,value:"\u002F\u002F 打印 \"count is: 1\""}]},{type:a,value:g}]}]}]},{type:a,value:g},{type:b,tag:v,props:{},children:[{type:a,value:"最终整合代码如下："}]},{type:a,value:g},{type:b,tag:D,props:{className:[E]},children:[{type:b,tag:F,props:{className:[G,H]},children:[{type:b,tag:m,props:{},children:[{type:b,tag:c,props:{className:[d,l]},children:[{type:a,value:as}]},{type:a,value:f},{type:b,tag:c,props:{className:[d,x]},children:[{type:a,value:Q}]},{type:a,value:f},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:r}]},{type:a,value:u},{type:b,tag:c,props:{className:[d,k]},children:[{type:a,value:bF}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:i}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:j}]},{type:a,value:f},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:r}]},{type:a,value:w},{type:b,tag:c,props:{className:[d,l]},children:[{type:a,value:ae}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:p}]},{type:b,tag:c,props:{className:[d,q]},children:[{type:a,value:af}]},{type:a,value:f},{type:b,tag:c,props:{className:[d,h]},children:[{type:a,value:o}]},{type:a,value:f},{type:b,tag:c,props:{className:[d,l]},children:[{type:a,value:az}]},{type:a,value:f},{type:b,tag:c,props:{className:[d,x]},children:[{type:a,value:bG}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:i}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:j}]},{type:a,value:u},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:n}]},{type:a,value:aA},{type:b,tag:c,props:{className:[d,k]},children:[{type:a,value:U}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:i}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:j}]},{type:a,value:f},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:r}]},{type:a,value:w},{type:b,tag:c,props:{className:[d,l,ad]},children:[{type:a,value:aV}]},{type:a,value:f},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:i}]},{type:a,value:aB},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:j}]},{type:a,value:f},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:r}]},{type:a,value:P},{type:b,tag:c,props:{className:[d,l]},children:[{type:a,value:ae}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:p}]},{type:b,tag:c,props:{className:[d,q]},children:[{type:a,value:af}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:p}]},{type:b,tag:c,props:{className:[d,t,k,q]},children:[{type:a,value:bH}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:i}]},{type:a,value:aB},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:j}]},{type:a,value:w},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:n}]},{type:a,value:u},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:n}]},{type:a,value:aA},{type:b,tag:c,props:{className:[d,k]},children:[{type:a,value:V}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:i}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:j}]},{type:a,value:f},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:r}]},{type:a,value:w},{type:b,tag:c,props:{className:[d,l]},children:[{type:a,value:ae}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:p}]},{type:b,tag:c,props:{className:[d,q]},children:[{type:a,value:af}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:p}]},{type:b,tag:c,props:{className:[d,t,k,q]},children:[{type:a,value:ay}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:i}]},{type:b,tag:c,props:{className:[d,J]},children:[{type:a,value:aC}]},{type:a,value:f},{type:b,tag:c,props:{className:[d,A,h]},children:[{type:a,value:B}]},{type:a,value:f},{type:b,tag:c,props:{className:[d,k]},children:[{type:a,value:aC}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:i}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:j}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:j}]},{type:a,value:u},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:n}]},{type:a,value:g},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:n}]},{type:a,value:I},{type:b,tag:c,props:{className:[d,l]},children:[{type:a,value:k}]},{type:a,value:f},{type:b,tag:c,props:{className:[d,k]},children:[{type:a,value:bK}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:i}]},{type:b,tag:c,props:{className:[d,J]},children:[{type:a,value:T}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:j}]},{type:a,value:f},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:r}]},{type:a,value:u},{type:b,tag:c,props:{className:[d,aw,x]},children:[{type:a,value:ax}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:p}]},{type:b,tag:c,props:{className:[d,t,k,q]},children:[{type:a,value:bs}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:i}]},{type:a,value:T},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:j}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:p}]},{type:b,tag:c,props:{className:[d,t,k,q]},children:[{type:a,value:ay}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:i}]},{type:b,tag:c,props:{className:[d,J]},children:[{type:a,value:_}]},{type:a,value:f},{type:b,tag:c,props:{className:[d,A,h]},children:[{type:a,value:B}]},{type:a,value:f},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:r}]},{type:a,value:w},{type:b,tag:c,props:{className:[d,l]},children:[{type:a,value:L}]},{type:a,value:aS},{type:b,tag:c,props:{className:[d,h]},children:[{type:a,value:o}]},{type:a,value:bt},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:bu}]},{type:a,value:_},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:bv}]},{type:a,value:"\n\n    "},{type:b,tag:c,props:{className:[d,l]},children:[{type:a,value:M}]},{type:a,value:bD},{type:b,tag:c,props:{className:[d,h]},children:[{type:a,value:o}]},{type:a,value:f},{type:b,tag:c,props:{className:[d,l]},children:[{type:a,value:az}]},{type:a,value:f},{type:b,tag:c,props:{className:[d,x]},children:[{type:a,value:Q}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:i}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:j}]},{type:a,value:w},{type:b,tag:c,props:{className:[d,aw,x]},children:[{type:a,value:ax}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:p}]},{type:b,tag:c,props:{className:[d,t,k,q]},children:[{type:a,value:bw}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:i}]},{type:a,value:T},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:$}]},{type:a,value:bx},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:$}]},{type:a,value:f},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:r}]},{type:a,value:P},{type:b,tag:c,props:{className:[d,s]},children:[{type:a,value:"\u002F\u002F 在 getter 收集依赖项，当触发 notify 时重新运行"}]},{type:a,value:P},{type:b,tag:c,props:{className:[d,k]},children:[{type:a,value:by}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:i}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:j}]},{type:a,value:f},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:r}]},{type:a,value:"\n        dep"},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:p}]},{type:b,tag:c,props:{className:[d,t,k,q]},children:[{type:a,value:U}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:i}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:j}]},{type:a,value:aa},{type:b,tag:c,props:{className:[d,l,ad]},children:[{type:a,value:aU}]},{type:a,value:bz},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:n}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:$}]},{type:a,value:"\n\n      "},{type:b,tag:c,props:{className:[d,s]},children:[{type:a,value:"\u002F\u002F setter 用于调用 notify"}]},{type:a,value:P},{type:b,tag:c,props:{className:[d,k]},children:[{type:a,value:bA}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:i}]},{type:a,value:"newVal"},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:j}]},{type:a,value:f},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:r}]},{type:a,value:aa},{type:b,tag:c,props:{className:[d,l]},children:[{type:a,value:M}]},{type:a,value:" changed "},{type:b,tag:c,props:{className:[d,h]},children:[{type:a,value:o}]},{type:a,value:aS},{type:b,tag:c,props:{className:[d,h]},children:[{type:a,value:"!=="}]},{type:a,value:" newVal\n        internalValue "},{type:b,tag:c,props:{className:[d,h]},children:[{type:a,value:o}]},{type:a,value:" newVal\n        "},{type:b,tag:c,props:{className:[d,l,ad]},children:[{type:a,value:aV}]},{type:a,value:f},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:i}]},{type:a,value:"changed"},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:j}]},{type:a,value:f},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:r}]},{type:a,value:"\n          dep"},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:p}]},{type:b,tag:c,props:{className:[d,t,k,q]},children:[{type:a,value:V}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:i}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:j}]},{type:a,value:aa},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:n}]},{type:a,value:P},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:n}]},{type:a,value:w},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:n}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:j}]},{type:a,value:u},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:n}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:j}]},{type:a,value:u},{type:b,tag:c,props:{className:[d,l,ad]},children:[{type:a,value:aU}]},{type:a,value:" obj\n"},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:n}]},{type:a,value:I},{type:b,tag:c,props:{className:[d,l]},children:[{type:a,value:L}]},{type:a,value:bI},{type:b,tag:c,props:{className:[d,h]},children:[{type:a,value:o}]},{type:a,value:f},{type:b,tag:c,props:{className:[d,l,R,aD]},children:[{type:a,value:R}]},{type:a,value:I},{type:b,tag:c,props:{className:[d,l]},children:[{type:a,value:k}]},{type:a,value:f},{type:b,tag:c,props:{className:[d,k]},children:[{type:a,value:ai}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:i}]},{type:b,tag:c,props:{className:[d,J]},children:[{type:a,value:O}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:j}]},{type:a,value:f},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:r}]},{type:a,value:u},{type:b,tag:c,props:{className:[d,l]},children:[{type:a,value:M}]},{type:a,value:f},{type:b,tag:c,props:{className:[d,av,k]},children:[{type:a,value:aE}]},{type:a,value:f},{type:b,tag:c,props:{className:[d,h]},children:[{type:a,value:o}]},{type:a,value:f},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:i}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:j}]},{type:a,value:f},{type:b,tag:c,props:{className:[d,A,h]},children:[{type:a,value:B}]},{type:a,value:f},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:r}]},{type:a,value:aF},{type:b,tag:c,props:{className:[d,h]},children:[{type:a,value:o}]},{type:a,value:bJ},{type:b,tag:c,props:{className:[d,k]},children:[{type:a,value:O}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:i}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:j}]},{type:a,value:aF},{type:b,tag:c,props:{className:[d,h]},children:[{type:a,value:o}]},{type:a,value:f},{type:b,tag:c,props:{className:[d,l,R,aD]},children:[{type:a,value:R}]},{type:a,value:u},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:n}]},{type:a,value:u},{type:b,tag:c,props:{className:[d,k]},children:[{type:a,value:aE}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:i}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:j}]},{type:a,value:g},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:n}]},{type:a,value:g}]}]}]}]},dir:"\u002Farticles",path:"\u002Farticles\u002FVue_响应性原理实现",extension:".md",createdAt:"2021-05-31T14:58:17.791Z",updatedAt:"2021-06-01T07:12:17.450Z"},tags:{vue:{slug:aH,name:aH},javascript:{slug:aG,name:aG}},prev:{slug:"编写Dom的神器——Emmet_语法速查",title:"编写Dom的神器——Emmet 语法速查"},next:{slug:"JS_中的_new_做了什么？",title:"JS 中的 new 做了什么？"}}],fetch:[],mutations:void 0}}("text","element","span","token","punctuation"," ","\n","operator","(",")","function","keyword","code","}","=",".","property-access","{","comment","method","\n  ","p","\n    ","class-name","console","number","arrow","=\u003E","string","div","nuxt-content-highlight","pre","language-js","line-numbers","\n\n","parameter","interpolation-punctuation","let","const","log","update","\n      ","Dep","null","a","obj","depend","notify"," a ","*","10","state","key",",","\n        ","template-punctuation","`","control-flow","this","subscribers","interpolation","${","autorun","响应性问题","实现迷你观察者","true",-1,"icon","icon-link","b","onStateChange","\u003C","class","\u003E","setState","function-variable","known-class-name","Object","forEach","new","\n\n  ","activeUpdate","sub","nil","wrappedUpdate","\n    activeUpdate ","javascript","vue",3,"\u002F\u002F 30","\n    view ","render","onStateChanged",":","h3","convert","\nobj","foo"," internalValue ","template-string","return","if","getter-和-setter","getter 和 setter","依赖跟踪发布订阅模式","依赖跟踪(发布订阅模式)","3"," b ","\na ","4","onAchange","\u002F\u002F DOM 元素","span ","\"cell b1\"","\u002F","\u002F\u002F 神奇函数，当 state 值改变会自动重新运行","dom","variable"," state","\u002F\u002F 这里抽象的视图渲染伪代码，可以简单的理解为在更新视图","5","\n\nstate","Object.definProperty","getter"," 和 ","setter","keys"," obj","[","]","defineProperty"," key","get"," internalValue\n      ","set","newValue","dep.depend"," dep ","\u002F\u002F 打印：\"updated\"","constructor","Set","add"," activeUpdate "," wrappedUpdate\n    ","observe","count")));